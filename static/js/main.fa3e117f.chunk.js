(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(11),i=n.n(s),r=(n(24),n(10)),o=n(2),l=n(8),d=n(15),j=n.n(d),h=n(17),u=n(12),b=n(1),x={parent:{width:"100%",height:"100vh"},child:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}};function m(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],s=function(){var e=Object(h.a)(j.a.mark((function e(){var t,c,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n){e.next=15;break}return(t=new FormData).append("image",n,n.name),e.next=5,fetch("http://localhost:8000/api/upload/",{method:"POST",body:t});case 5:if(201!==(c=e.sent).status){e.next=10;break}l.c.success("Image uploaded successfully"),e.next=15;break;case 10:return e.next=12,c.json();case 12:a=e.sent,s=a.details,l.c.error(s);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{style:x.parent,children:Object(b.jsxs)("div",{style:x.child,children:[Object(b.jsx)("h1",{children:"Upload an Image"}),Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&a(e.target.files[0])}})}),Object(b.jsx)("button",{className:"btn btn-outline-primary",onClick:s,children:"Upload"})]})]})})}function p(e){var t=e.data,n=e.refetchData,c=t.id,a=t.image,s=t.category,i=t.predicted;return Object(b.jsxs)("div",{className:"card col-4 mx-2 my-3 p-0",style:{width:"18rem"},children:[Object(b.jsx)("img",{src:a,className:"card-img-top",style:{height:"15rem"},alt:c}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("h6",{children:["category: ",Object(b.jsx)("span",{style:{fontWeight:"normal"},children:s})]})}),Object(b.jsx)("div",{className:"card-footer",children:Object(b.jsx)("button",{disabled:i,className:"btn btn-info text-dark",onClick:function(){fetch("http://localhost:8000/api/predict/".concat(c)).then((function(e){200===e.status&&n()}))},children:"predict"})})]})}function f(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],s=function(){fetch("http://localhost:8000/api/images/").then((function(e){return e.json()})).then((function(e){return a(e.items)}))};return Object(c.useEffect)((function(){s()}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{className:"my-5 text-center",children:"List of images"}),Object(b.jsx)("div",{className:"row justify-content-center align-items-center",children:n.length>0?n.map((function(e){return Object(b.jsx)(p,{data:e,refetchData:s})})):Object(b.jsx)("h5",{className:"text-center text-muted",children:"No predicted images yet."})})]})}function O(){return Object(b.jsxs)("div",{className:"py-2 bg-primary px-1",children:[Object(b.jsx)(r.b,{to:"/",className:"me-2 text-white text-decoration-none",children:"Upload"}),Object(b.jsx)(r.b,{to:"/api/images",className:"me-2 text-white text-decoration-none",children:"Images"})]})}n(35);var g=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(r.a,{children:[Object(b.jsx)(O,{}),Object(b.jsx)(l.a,{hideProgressBar:!0,autoClose:3e3,draggable:!1,transition:l.b}),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",component:m}),Object(b.jsx)(o.a,{path:"/api/images",component:f})]})})]})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),v()}},[[36,1,2]]]);
//# sourceMappingURL=main.fa3e117f.chunk.js.map